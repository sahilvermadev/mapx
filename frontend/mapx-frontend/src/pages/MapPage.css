.map-page-container {
  position: relative;
  width: 100%;
  height: calc(100vh - 64px);
  overflow: hidden;
  background: #0b0f17;
}

/* Authentication loading overlay */
.auth-loading-overlay {
  position: fixed;
  inset: 0;
  background: #0b0f17;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.auth-loading-content {
  text-align: center;
  color: #e8eefc;
}

.auth-loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(34, 211, 238, 0.3);
  border-top: 3px solid #22d3ee;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 16px;
}

.auth-loading-content p {
  font-size: 16px;
  font-weight: 500;
  margin: 0;
  color: #cbd5e1;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.map-container { position: absolute; inset: 0; }

/* Dark header styling */
header[class*="bg-black"] {
  background: rgba(0, 0, 0, 0.9) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
}

/* App bar */
.searchbar {
  position: relative; top: 16px; left: 50%; transform: translateX(-50%);
  width: min(900px, calc(100% - 32px)); display: flex; align-items: center; gap: 12px;
  padding: 12px 14px; border-radius: 18px; backdrop-filter: blur(12px);
  background: rgba(0, 0, 0, 0.7);  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7); z-index: 20;
}

.searchbar .search {
  flex: 1;
  margin-right: 12px;
}

/* Profile avatar + menu */
.profile { position: relative; margin-left: auto; cursor: pointer; }
.avatar-fallback {
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  border-radius: 50%;
  font-weight: 800;
  color: #0b0f17;
  background: conic-gradient(from 180deg at 50% 50%, #22d3ee, #a78bfa, #f472b6, #22d3ee);
  border: 2px solid rgba(255,255,255,.2);
  box-shadow: 0 4px 16px rgba(0,0,0,.35);
}
.profile img { width: 36px; height: 36px; border-radius: 50%; border: 2px solid rgba(255,255,255,.18); box-shadow: 0 4px 16px rgba(0,0,0,.35); object-fit: cover; }
.menu { position: absolute; right: 0; top: 46px; min-width: 180px; padding: 8px; border-radius: 12px; backdrop-filter: blur(10px);
  background: rgba(15,19,28,.85); border: 1px solid rgba(255,255,255,.08); box-shadow: 0 10px 28px rgba(0,0,0,.4); z-index: 30; }
.menu-item { display: block; width: 100%; text-align: left; padding: 10px 12px; border-radius: 10px; color: #e8eefc; text-decoration: none; border: none; background: transparent; cursor: pointer; }
.menu-item:hover { background: rgba(255,255,255,.08); }
.menu-item.danger { color: #fda4af; }

/* Sliding content panel */
.content-panel { position: absolute; right: 16px; bottom: 16px; width: min(380px, calc(100% - 32px)); max-height: 60vh; overflow: hidden; border-radius: 16px;
  backdrop-filter: blur(12px); background: rgba(13,17,26,.75); border: 1px solid rgba(255,255,255,.08); box-shadow: 0 12px 40px rgba(0,0,0,.45); z-index: 18;
  animation: slideIn .25s ease-out; }
@keyframes slideIn { from { transform: translateY(12px); opacity: .0; } to { transform: translateY(0); opacity: 1; } }
.panel-handle { height: 6px; width: 46px; border-radius: 999px; background: rgba(255,255,255,.18); margin: 10px auto; cursor: pointer; }
.panel-header { padding: 0 14px 10px 14px; color: #eef2ff; }
.panel-title { font-family: var(--font-display); font-weight: 800; letter-spacing: .4px; }
.panel-sub { font-size: 12px; color: #cbd5e1; margin-top: 2px; }
.panel-body { display: flex; gap: 10px; padding: 12px 14px 16px; border-top: 1px solid rgba(255,255,255,.06); }
.chip { padding: 8px 12px; border-radius: 999px; background: linear-gradient(135deg, #22d3ee33, #a78bfa33); border: 1px solid rgba(255,255,255,.08); color: #e8eefc; font-weight: 600; font-size: 12px; }

/* Floating action buttons */
.fab-group { position: absolute; right: 16px; bottom: 16px; display: flex; flex-direction: column; gap: 10px; z-index: 15; }
.fab { 
  width: 56px; 
  height: 56px; 
  display: grid; 
  place-items: center; 
  border-radius: 16px; 
  border: 2px solid rgba(255,255,255,0.2); 
  background: rgba(34, 211, 238, 0.9); 
  color: #0b0f17; 
  cursor: pointer; 
  backdrop-filter: blur(10px); 
  box-shadow: 0 8px 32px rgba(34, 211, 238, 0.3); 
  transition: all 0.3s ease;
  font-weight: 600;
}

.fab:hover {
  background: rgba(34, 211, 238, 1);
  transform: translateY(-2px);
  box-shadow: 0 12px 40px rgba(34, 211, 238, 0.4);
  border-color: rgba(255, 255, 255, 0.3);
}

.fab:active {
  transform: translateY(0);
  box-shadow: 0 4px 20px rgba(34, 211, 238, 0.3);
}

.fab:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
}

.fab.locating {
  background: rgba(34, 211, 238, 0.8);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 8px 32px rgba(34, 211, 238, 0.3);
  }
  50% {
    box-shadow: 0 8px 32px rgba(34, 211, 238, 0.6);
  }
  100% {
    box-shadow: 0 8px 32px rgba(34, 211, 238, 0.3);
  }
}

.fab-icon { 
  width: 24px; 
  height: 24px; 
  color: #0b0f17;
  font-weight: bold;
}

.fab .spinner {
  width: 20px;
  height: 20px;
  border: 2px solid rgba(11, 15, 23, 0.2);
  border-top: 2px solid #0b0f17;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* InfoWindow content */
.iw { color: #111827; }
.iw-title { font-weight: 700; margin-bottom: 4px; }
.iw-addr { color: #4b5563; font-size: 12px; }